{% extends 'base.html' %}

{% block title %}Updates - PreVaxa{% endblock %}

{% block content %}
<h1 style="color:#93c572; text-align:center;">Vaccine Updates</h1>

<div style="max-width: 800px; margin: 20px auto;">

    <!-- Updates List -->
    <div style="background-color: #f5f5f5; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
        <h3 style="color:#93c572;">Latest Updates</h3>
        <ul style="list-style-type: none; padding: 0;">
            {% if updates_data %}
                {% for update in updates_data %}
                    <li style="padding: 10px; border-bottom: 1px solid #e0e0e0;">
                        <strong>{{ update.date }}</strong> - {{ update.message }}
                    </li>
                {% endfor %}
            {% else %}
                <li style="padding: 10px;">No updates available at the moment.</li>
            {% endif %}
        </ul>
    </div>

    <!-- API Status -->
    <div style="background-color: #f5f5f5; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
        <h3 style="color:#93c572;">API Status</h3>
        <p style="color: {% if api_error %}red{% else %}green{% endif %}; font-weight: bold;">
            {% if api_error %}
            âš ï¸ Could not fetch live data: {{ api_error }}
            {% else %}
            âœ… Connected to vaccination data API
            {% endif %}
        </p>
    </div>

    <!-- Vaccine Reminders -->
<div style="background-color: #f5f5f5; padding: 20px; border-radius: 8px;">
    <h3 style="color:#93c572;">Upcoming Vaccine Reminders</h3>
    {% if reminders %}
        <ul style="padding-left: 20px; line-height: 1.6;">
            {% for reminder in reminders %}
                <li>ğŸ’‰ {{ reminder }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p style="font-style: italic;">
            No upcoming vaccine reminders at the moment.
        </p>
    {% endif %}
</div>

</div>
{% endblock %}
